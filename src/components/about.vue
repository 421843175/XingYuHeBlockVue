<template>
  <div>
    <!-- ä¸¤å¥è¯— -->
    <div class="my-animation-slide-top">
      <twoPoem :isHitokoto="false"></twoPoem>
    </div>

    <div style="background: var(--background)" class="my-animation-slide-bottom">
    
      <div class="about-wrap">  
        <h3>åŸºäºVUE3+SPRINGBOOT</h3>
        <h2>å…³äºæˆ‘</h2>
        <h3>QQ:  <el-link type="primary"  href="https://qm.qq.com/q/m3n00VH7F0" target="_blank" ><p style="font-size: 22px;">421843175</p></el-link></h3>
        <h3>å¾®ä¿¡: a421843175</h3>
        <h3>å¾®ä¿¡å…¬ä¼—å·: æœ¨æ˜Ÿåˆ›æ–°åº“</h3>
        <h1 style="font-size: 40px;font-weight: 500;letter-spacing: 5px;">å¿ƒå£°</h1>
        <!-- å¯¹è¯æ¡† -->
        <div class="about-box">
          <h4>ä¸ æœ¨æ˜Ÿ å¯¹è¯ä¸­...</h4>
          <div v-if="sayShow" id="say-container"></div>
        </div>
        <h2>æ¬¢è¿ å–œçˆ±ç¼–ç¨‹çš„æœ‹å‹ æˆ– å¯¹é¡¹ç›®æœ‰å¥½çš„æ”¹è¿›å»ºè®®çš„æœ‹å‹ è”ç³»</h2>
      </div>

      <!-- é¡µè„š -->
      <myFooter></myFooter>
    </div>
  </div>
</template>

<script>
console.log("åç«¯å¼€å‘:æœ¨æ˜Ÿ(å‰ç«¯åŸºäºå¼€æºåšå®¢æ¡†æ¶é­”æ”¹)")
  const twoPoem = () => import( "./common/twoPoem");
  const myFooter = () => import( "./common/myFooter");

  export default {
    components: {
      twoPoem,
      myFooter
    },
    data() {
      return {
        sayShow: false,
        sayContent: [
          {
            "talk": ["ä½ å¥½ é™Œç”Ÿäºº", "æˆ‘(æœ¨æ˜Ÿ)æƒ³åœ¨è¿™é‡Œå€¾è¯‰äº›ä»€ä¹ˆ"],
            "reply": ["è¯´å§ ğŸ˜ƒ", "å°‘åºŸè¯ï¼ ğŸ™„"]
          }, {
            "talk": ["æƒ³è®°å½•ä¸€äº›è‡ªå·±çš„ç¼–ç¨‹ç”Ÿæ´» æ˜¯çš„ åœ¨æˆ‘çœ‹æ¥ ç¼–ç¨‹å°±æ˜¯ä¸€ç§ç”Ÿæ´»æ–¹å¼",
              "æˆ‘æƒ³é€šè¿‡ç¼–ç¨‹å»åˆ›é€ å±äºè‡ªå·±çš„ å¤©åœ°",
              "å› æ­¤æˆ‘ä¸æ–­çš„ å» å­¦ä¹  å’Œ äº†è§£ ç¼–ç¨‹çš„å„ç§æ€æƒ³ åº•å±‚é€»è¾‘ å®ç°æ–¹å¼ ä»¥ç¼–ç¨‹ä¸ºä¹"],
            "reply": ["é‚£ä½ æœ‰æ²¡æœ‰æƒ³è¦åšä»€ä¹ˆå‘¢"]
          }, {
            "talk": ["æˆ‘æƒ³è¦å»åšâ€¦â€¦é‚£å¤ªå¤šäº† æˆ‘ä¹Ÿåœ¨ä¸€ç‚¹ç‚¹çš„å»å®ç°",
              "è‡ªå·±æƒ³è¦åšçš„ ä¹Ÿéƒ½ä¸€ç‚¹ç‚¹é€šè¿‡äº†è§£åˆ°çš„æŠ€æœ¯ å»å±•ç¤º å’Œå®Œå–„",
              "ä¸»æ”»çš„æ˜¯è½¯ä»¶ç¼–ç¨‹ å¼€å‘è½¯ä»¶ å°†è‡ªå·±çš„æƒ³æ³•ä¸æ–­å®ç° åœ¨æˆ‘çœ‹æ¥å¾ˆå¿«ä¹",
              "é™¤äº†è½¯ä»¶ å¯¹äºå…¶ä»–æ–¹é¢ åªèƒ½è¯´ç²¾åŠ›æœ‰é™ ä½†åœ¨ä¸æ–­å­¦ä¹ ",
          ],
            "reply": ["è¿™æ ·çœŸçš„æœ‰æ„ä¹‰å—ï¼Ÿ"]
          }, {
            "talk": ["æ„ä¹‰ï¼Ÿå¯èƒ½æŠŠä¸€ä¸ªæ–°å¥‡çš„æƒ³æ³• ç”¨ä»£ç å®ç° ä¾¿æ˜¯ æˆ‘æ‰€è®¤ä¸ºçš„æœ€å¤§çš„æ„ä¹‰å§",
              "æ‰€ä»¥å½“æˆ‘äº§ç”Ÿäº†ä¸€ä¸ªæƒ³æ³• åªè¦æœ‰ä¸€ä¸çš„å¯èƒ½æ€§ æˆ‘å°±ä¼šç ”ç©¶ å¦‚ä½•å®ç°  å¦‚ä½•æ”»ç ´å…¶ä¸­çš„éš¾é¢˜",
              "å¦‚ä½•è®©ç¨‹åºæ›´é«˜æ•ˆ æ€ä¹ˆè®¾è®¡äº§ç”Ÿæ›´å¤§çš„æ•ˆèƒ½",
              "ä¸çŸ¥ä¸è§‰çš„ ä¹Ÿå°±å¢é•¿äº† æˆ‘å¯¹äºæŸé¡¹ ç¼–ç¨‹çš„çŸ¥è¯† ",
              "å…¶æ¬¡ è¿™ä¸ªæ„ä¹‰ ä¹Ÿå°±ä½“ç°äº† â€”â€”â€”â€” å› ä¸º æˆ‘è®¤ä¸º ç¼–ç¨‹æ˜¯ç›¸é€šçš„ "
             ],
            "reply": ["å­¦ç¼–ç¨‹æ˜¯ä¸ºäº†ä»€ä¹ˆ"]
          },{
            "talk": ["å†™ä»£ç çš„æ—¶å€™å°±æ˜¯ä¸€ç§å¿«ä¹",
              "ä½†å¿«ä¹ ä¸èƒ½è§£å†³ ç°å®é—®é¢˜ ï¼Œæ‰€ä»¥ æˆ‘ä¹Ÿå¸Œæœ› è¿™ç§åŠ³åŠ¨ äº§ç”Ÿä»·å€¼çš„åŒæ—¶ ä¹Ÿèƒ½çµæ´» â€˜å˜ç°â€™",
              "å“ªæ€•æœ‰ä¸€å¤© çœŸçš„æ— æ³•ä»äº‹ ç¼–ç¨‹ç›¸å…³çš„è¡Œä¸š æˆ‘å¼€å‘ç¨‹åºä¹Ÿä¸ä¼šåœæ­¢",
              "æˆ‘è¿˜æœ‰å¤ªå¤šå¤ªå¤šè¦åšçš„ï¼Œæ­£å¦‚ä¸Šé¢æ‰€è¯´ è¿™æ˜¯æˆ‘çš„ä¸€ç§ç”Ÿæ´»æ–¹å¼",
              "ä»…ä»…ä¸ºäº†ä¸€ä»½å·¥ä½œ é‚£ä¹ˆç»å¯¹æ— æ³•ç†è§£ ä¸ºä»€ä¹ˆæˆ‘æƒ³è¦å»äº†è§£ æ“ä½œç³»ç»Ÿå¼€å‘ ç¼–è¯‘å™¨å¼€å‘ ç­‰ è¿™ç§è‹¦æ¶©éš¾æ‡‚çš„è¯¾é¢˜",
              "å› ä¸ºçƒ­çˆ±",
              "æˆ‘åšä¿¡ç€ ç¼–ç¨‹å¯ä»¥ åˆ›é€ ä¸–ç•Œ ï¼Œå¯ä»¥ æ”¹å˜æœªæ¥"
             ],

          }
        ],
        sayIndex: 0
      }
    },

    computed: {},

    watch: {},

    created() {
      setTimeout(() => {
        this.sayShow = true;
        this.say();
      }, 2000);
    },

    mounted() {

    },

    methods: {
      answer(index, value) {
        $(".say-select").remove();

        let htmlStr = `<div class="say-right my-animation-slide-bottom"><span class="say-item-right">${value}</span></div>`;
        let frag = document.createRange().createContextualFragment(htmlStr);
        document.getElementById("say-container").appendChild(frag);
        if (index === 0) {
          setTimeout(() => {
            this.say();
          }, 500);
        } else {
          let htmlStr = `<div class="say-left my-animation-slide-bottom"><span class="say-item-left">å¥½çš„</span></div>`;
          let frag = document.createRange().createContextualFragment(htmlStr);
          document.getElementById("say-container").appendChild(frag);
        }
      },
      say() {
        if (!this.$common.isEmpty(this.sayContent[this.sayIndex]) && !this.$common.isEmpty(this.sayContent[this.sayIndex].talk)) {
          this.sayContent[this.sayIndex].talk.forEach((value, index, talk) => {
            setTimeout(() => {
              let htmlStr = `<div class="say-left my-animation-slide-bottom"><span class="say-item-left">${value}</span></div>`;
              let frag = document.createRange().createContextualFragment(htmlStr);
              document.getElementById("say-container").appendChild(frag);
              if (talk.length === index + 1) {
                if (!this.$common.isEmpty(this.sayContent[this.sayIndex].reply)) {
                  setTimeout(() => {
                    if (this.sayContent[this.sayIndex].reply.length === 2) {
                      let reply0 = this.sayContent[this.sayIndex].reply[0];
                      let reply1 = this.sayContent[this.sayIndex].reply[1];
                      let htmlStr = `<div class="say-left my-animation-slide-bottom"><span class="say-select">${reply0}</span><span class="say-select">${reply1}</span></div>`;
                      let frag = document.createRange().createContextualFragment(htmlStr);
                      document.getElementById("say-container").appendChild(frag);
                      document.getElementsByClassName("say-select")[0].onclick = () => {
                        this.answer(0, reply0);
                      }
                      document.getElementsByClassName("say-select")[1].onclick = () => {
                        this.answer(1, reply1);
                      }
                    } else if (this.sayContent[this.sayIndex].reply.length === 1) {
                      let reply0 = this.sayContent[this.sayIndex].reply[0];
                      let htmlStr = `<div class="say-left my-animation-slide-bottom"><span class="say-select">${reply0}</span></div>`;
                      let frag = document.createRange().createContextualFragment(htmlStr);
                      document.getElementById("say-container").appendChild(frag);
                      document.getElementsByClassName("say-select")[0].onclick = () => {
                        this.answer(0, reply0);
                      }
                    }
                    this.sayIndex += 1;
                  }, 500);
                }
              }
            }, index * 1500);
          });
        }
      }
    }
  }
</script>

<style>

  .about-wrap {
    text-align: center;
    width: 95%;
    max-width: 800px;
    margin: 0 auto;
    padding: 40px 20px 80px;
  }

  .about-box {
    min-height: 450px;
    padding: 5px;
    background-color: var(--maxMaxLightGray);
    border-radius: 10px;
  }

  .say-item-left {
    padding: 5px 12px;
    border-radius: 1rem;
    color: var(--maxGreyFont);
    background-color: var(--lightGray);
  }

  .say-item-right {
    padding: 5px 12px;
    border-radius: 1rem;
    color: var(--white);
    background-color: var(--translucent);
  }

  .say-left {
    display: flex;
    justify-content: left;
    margin: 15px;
  }

  .say-right {
    display: flex;
    justify-content: right;
    margin: 15px;
  }

  .say-select {
    cursor: pointer;
    background: var(--black);
    border-radius: 5px;
    padding: 5px 10px;
    margin-right: 12px;
    margin-top: 20px;
    color: var(--white);
    border: 1px solid var(--black);
  }

  .say-select:hover {
    border: 1px solid var(--themeBackground);
    color: var(--themeBackground);
    box-shadow: 0 0 5px var(--themeBackground);
  }
</style>
